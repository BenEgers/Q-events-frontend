<section class="event-form dismiss" (click)="handleClick($event)">
    <form class="form" [formGroup]="eventForm" (ngSubmit)="onSubmit()">
        <h2 class="header">ðŸŽ†ðŸŽŠCreate Event</h2>
        <div class="form-control-s titel">
            <label for="titel">Titel:</label>
            <input type="text" placeholder="Titel van het evenement" formControlName="titel" id="titel" class="titel">

            <div *ngIf="eventForm.get('titel')?.invalid && (eventForm.get('titel')?.dirty || eventForm?.get('titel')?.touched) || (isSubmitted && !eventForm.get('titel')?.dirty)" class="text-danger">
                Titel van het evenement is vereist!!
            </div>
        </div>
        <div class="form-control-s datum">
            <label for="datum">Datum & Tijd:</label>
            <input type="datetime-local" formControlName="datum" id="datum" class="datum">
            <div *ngIf="eventForm.get('datum')?.invalid && (eventForm.get('datum')?.dirty || eventForm?.get('datum')?.touched) || (isSubmitted && !eventForm.get('datum')?.dirty)" class="text-danger">
                Een Datum is vereist!!
            </div>
        </div>
        <div class="form-control-s locatie">
            <label for="locatie">Locatie:</label>
            <select name="locatie" formControlName="locatie" id="locatie">
                <option value="" disabled selected hidden>Kies een locatie</option>
                <option value="QZUID">Q-Zuid</option>
                <option value="QNOORD">Q-Noord</option>
                <option value="ONLINE">Online</option>
              </select>
            <div *ngIf="eventForm.get('locatie')?.invalid && (eventForm.get('locatie')?.dirty || eventForm?.get('locatie')?.touched) || (isSubmitted && !eventForm.get('locatie')?.dirty)" class="text-danger">
                Locatie is vereist!!
            </div>
        </div>
        <div class="form-control-s omschrijving">
            <label for="omschrijving">omschrijving:</label>
            <textarea formControlName="omschrijving" id="omschrijving" class="omschrijving"></textarea>
        </div>
        <div class="form-control-s deelnemers">
            <!-- <ejs-multiselect id='multiselectelement' formControlName="deelnemers"
            [fields]='fields' [mode]='mode' [allowFiltering]='true' [dataSource]='$usersSelect()' [popupHeight]='popupHeight' [popupWidth]='popupWidth' [placeholder]='placeholder'></ejs-multiselect>
            <div *ngIf="eventForm.get('deelnemers')?.invalid && (eventForm.get('deelnemers')?.dirty) || (isSubmitted && !eventForm.get('deelnemers')?.dirty)" class="text-danger">
                Selecteer tenminste 1 deelnemer!!
            </div> -->

            <ng-multiselect-dropdown
                [placeholder]="placeholder"
                [settings]="dropdownSettings"
                [data]="$usersSelect()"
                formControlName="deelnemers"
                (onSelect)="onItemSelect($event)"
                (onSelectAll)="onSelectAll($event)"
            >
            </ng-multiselect-dropdown>
        </div>
        <div class="form-control-s attachment">
            <div class="custom-file-input">
                <input type="file" #fileInput multiple formControlName="attachment" />
                <label for="fileInput">Add attachment</label>
                <div>{{ getSelectedFileNames() }}</div>
            </div>
            <div *ngIf="editingEvent" class="text-current-files"> 
                <span>Current attachment:</span> {{editingEvent && (editingEvent.files && editingEvent.files[0].fileName)}}
            </div>
        </div>

        <div class="form-control-s submit">
            <button type="submit" name="submit"  id="submit">{{submitBtnText}}</button>
        </div>

    </form>
    
</section>

